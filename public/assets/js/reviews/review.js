(()=>{"use strict";$(document).on("click",".addReviewBtn",(function(){var e=$(this).data("id");$("#doctorId").val(e)})),$(document).ready((function(){var e=$(".fill-ratings span").width();$(".star-ratings").width(e)})),$(document).on("submit","#addReviewForm",(function(e){e.preventDefault(),$.ajax({url:route("patients.reviews.store"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addReviewModal").modal("hide"),setTimeout((function(){location.reload()}),1200))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("click",".editReviewBtn",(function(){var e=$(this).data("id");$.ajax({url:route("patients.reviews.edit",e),type:"GET",success:function(e){$("#editReviewModal").modal("show").appendTo("body"),$("#editDoctorId").val(e.data.doctor_id),$("#editReviewId").val(e.data.id),$("#editReview").val(e.data.review),$("#editRating-"+e.data.rating).attr("checked",!0)},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("submit","#editReviewForm",(function(e){e.preventDefault();var t=$("#editReviewId").val();$.ajax({url:route("patients.reviews.update",t),type:"PUT",data:$(this).serialize(),success:function(e){displaySuccessMessage(e.message),$("#editReviewModal").modal("hide"),setTimeout((function(){location.reload()}),1200)},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("click",".addReviewBtn",(function(){$("#addReviewModal").modal("show").appendTo("body")})),$("#addReviewModal").on("hidden.bs.modal",(function(){$("#doctorId").val(""),resetModalForm("#addReviewForm")})),$("#editReviewModal").on("hidden.bs.modal",(function(){$("#editDoctorId").val(""),resetModalForm("#editReviewForm")}))})();