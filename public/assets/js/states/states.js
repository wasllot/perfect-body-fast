(()=>{"use strict";var e="#statesTable";$(document).ready((function(){var a=$(e).DataTable({processing:!0,serverSide:!0,searchDelay:500,language:{lengthMenu:"Show _MENU_"},order:[[0,"asc"]],ajax:{url:route("states.index")},columnDefs:[{targets:[0,1],width:"20%"},{targets:[2],orderable:!1,className:"text-center",width:"8%"}],columns:[{data:"name",name:"name"},{data:"country.name",name:"country.name"},{data:function(e){var a=[{id:e.id}];return prepareTemplateRender("#statesTemplate",a)},name:"id"}]});handleSearchDatatable(a)})),$(document).on("click","#addState",(function(){$("#addStateModal").modal("show").appendTo("body")})),$(document).on("submit","#addStateForm",(function(a){a.preventDefault(),$.ajax({url:route("states.store"),type:"POST",data:$(this).serialize(),success:function(a){a.success&&(displaySuccessMessage(a.message),$("#addStateModal").modal("hide"),$(e).DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("click",".edit-btn",(function(e){$("#editStateModal").modal("show").appendTo("body");var a=$(e.currentTarget).data("id");$("#editStateId").val(a),$.ajax({url:route("states.edit",a),type:"GET",success:function(e){e.success&&($("#editStateName").val(e.data.name),$("#selectCountry").val(e.data.country_id).trigger("change"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("submit","#editStateForm",(function(a){a.preventDefault();var t=$("#editStateId").val(),s=$(this).serialize();$.ajax({url:route("states.update",t),type:"PUT",data:s,success:function(a){a.success&&(displaySuccessMessage(a.message),$("#editStateModal").modal("hide"),$(e).DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$("#addStateModal").on("hidden.bs.modal",(function(e){$("#addStateForm")[0].reset(),$("#countryState").val(null).trigger("change")})),$(document).on("click",".delete-btn",(function(a){var t=$(a.currentTarget).data("id");deleteItem(route("states.destroy",t),e,"State")}))})();