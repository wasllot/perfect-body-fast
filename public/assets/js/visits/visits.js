(()=>{"use strict";var e="#visitsTable";$(document).ready((function(){var t=$(e).DataTable({processing:!0,serverSide:!0,searchDelay:500,language:{lengthMenu:"Show _MENU_"},order:[[2,"desc"]],ajax:{url:visitUrl},columnDefs:[{targets:[0],width:"30%"},{targets:[1],width:"30%"},{targets:[2],width:"18%"},{targets:[3],orderable:!1,className:"text-center",width:"12%"}],columns:[{data:function(e){var t=calculateAvgRating(e.visit_doctor.reviews);return'<div class="symbol symbol-circle symbol-50px overflow-hidden me-3">\n                        <a href="javascript:void(0)">\n                            <div class="symbol-label">\n                                <img src="'.concat(e.visit_doctor.user.profile_image,'" alt=""\n                                     class="w-100 object-cover">\n                            </div>\n                        </a>\n                    </div>\n                    <div class="d-inline-block align-top">\n                        <div class="d-inline-block align-self-center d-flex">\n                            <a href="').concat(route("doctors.show",e.visit_doctor.id),'"\n                           class="text-primary-800 mb-1 d-inline-block align-self-center">').concat(e.visit_doctor.user.full_name,'</a>\n                                <div class="star-ratings d-inline-block align-self-center ms-2">\n                                     <div class="fill-ratings" style="width: ').concat(t,'%;">\n                                         <span>★★★★★</span>\n                                     </div>\n                                </div>\n                        </div>\n                        <span class="d-block">').concat(e.visit_doctor.user.email,"</span>\n                    </div>")},name:"visit_doctor.user.full_name"},{data:function(e){return'<div class="symbol symbol-circle symbol-50px overflow-hidden me-3">\n                        <a href="javascript:void(0)">\n                            <div class="symbol-label">\n                                <img src="'.concat(e.visit_patient.profile,'" alt=""\n                                     class="w-100 object-cover">\n                            </div>\n                        </a>\n                    </div>\n                    <div class="d-inline-block align-top">\n                        <a href="').concat(route("patients.show",e.visit_patient.id),'"\n                           class="text-primary-800 mb-1 d-block">').concat(e.visit_patient.user.full_name,'</a>\n                        <span class="d-block">').concat(e.visit_patient.user.email,"</span>\n                    </div>")},name:"visit_patient.user.full_name"},{data:function(e){return e},render:function(e){return null===e.visit_date?"N/A":'<span class="badge badge-light-info">'.concat(moment(e.visit_date).format("Do MMM, Y"),"</span>")},name:"visit_date"},{data:function(e){var t=[{id:e.id,editUrl:route("visits.edit",e.id),showUrl:route("visits.show",e.id)}];return prepareTemplateRender("#visitsTemplate",t)},name:"id"}]});handleSearchDatatable(t)})),$(document).on("click",".delete-btn",(function(t){var i=$(t.currentTarget).data("id");deleteItem(route("visits.destroy",i),e,"Visit")}))})();