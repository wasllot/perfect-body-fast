(()=>{"use strict";$(document).ready((function(){setTimeout((function(){$(".visit-detail-width").parent().parent().addClass("visit-detail-width")}),100)})),$(document).on("submit","#addVisitProblem",(function(e){if(e.preventDefault(),""===$("#problemName").val().trim().replace(/ \r\n\t/g,""))return displayErrorMessage("Problem field is not contain only white space"),!1;var t=$(this).find("#problemSubmitBtn");setAdminBtnLoader(t);var s=doctorLogin?route("doctors.visits.add.problem"):route("add.problem");$.ajax({url:s,type:"POST",data:$(this).serialize(),dataType:"json",success:function(e){$("ul#problemLists").empty(),e.data.length>0?(displaySuccessMessage(e.message),$.each(e.data,(function(e,t){$("#problemName").val(""),$("#problemLists").append('<li class="list-group-item text-break text-wrap d-flex justify-content-between align-items-center py-5">'.concat(t.problem_name,'<span class="remove-problem" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete" data-id="').concat(t.id,'"><a href="javascript:void(0)"><i class="fas fa-trash text-danger"></i></a></span></li>'))}))):$("#problemLists").append('<p class="text-center fw-bold text-muted mt-3">'.concat(noRecordsFound,"</p>"))},complete:function(){$("#problemSubmitBtn").attr("disabled",!1)}})})),$(document).on("click",".remove-problem",(function(e){e.preventDefault();var t=$(this).attr("data-id"),s=doctorLogin?route("doctors.visits.delete.problem",t):route("delete.problem",t);$(this).closest("li").remove(),$.ajax({url:s,type:"POST",dataType:"json",success:function(e){e.success&&($("#problemLists li").length<1?(displaySuccessMessage(e.message),$("#problemLists").append('<p class="text-center fw-bold mt-3 text-muted text-gray-600">'.concat(noRecordsFound,"</p>"))):displaySuccessMessage(e.message))}})})),$(document).on("submit","#addVisitObservation",(function(e){if(e.preventDefault(),""===$("#observationName").val().trim().replace(/ \r\n\t/g,""))return displayErrorMessage("Observation field is not contain only white space"),!1;var t=$(this).find("#observationSubmitBtn");setAdminBtnLoader(t);var s=doctorLogin?route("doctors.visits.add.observation"):route("add.observation");$.ajax({url:s,type:"POST",data:$(this).serialize(),dataType:"json",success:function(e){$("ul#observationLists").empty(),e.data.length>0?(displaySuccessMessage(e.message),$.each(e.data,(function(e,t){$("#observationName").val(""),$("#observationLists").append('<li class="list-group-item text-break text-wrap d-flex justify-content-between align-items-center py-5">'.concat(t.observation_name,'<span class="remove-observation" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete" data-id="').concat(t.id,'"><a href="javascript:void(0)"><i class="fas fa-trash text-danger"></i></a></span></li>'))}))):$("#observationLists").append('<p class="text-center fw-bold text-muted mt-3">'.concat(noRecordsFound,"</p>"))},complete:function(){$("#observationSubmitBtn").attr("disabled",!1)}})})),$(document).on("click",".remove-observation",(function(e){e.preventDefault();var t=$(this).attr("data-id"),s=doctorLogin?route("doctors.visits.delete.observation",t):route("delete.observation",t);$(this).closest("li").remove(),$.ajax({url:s,type:"POST",dataType:"json",success:function(e){e.success&&($("#observationLists li").length<1?(displaySuccessMessage(e.message),$("#observationLists").append('<p class="text-center fw-bold mt-3 text-muted text-gray-600">'.concat(noRecordsFound,"</p>"))):displaySuccessMessage(e.message))}})})),$(document).on("submit","#addVisitNote",(function(e){if(e.preventDefault(),""===$("#noteName").val().trim().replace(/ \r\n\t/g,""))return displayErrorMessage("Note field is not contain only white space"),!1;var t=$(this).find("#noteSubmitBtn");setAdminBtnLoader(t);var s=doctorLogin?route("doctors.visits.add.note"):route("add.note");$.ajax({url:s,type:"POST",data:$(this).serialize(),dataType:"json",success:function(e){$("ul#noteLists").empty(),e.data.length>0?(displaySuccessMessage(e.message),$.each(e.data,(function(e,t){$("#noteName").val(""),$("#noteLists").append('<li class="list-group-item text-break text-wrap d-flex justify-content-between align-items-center py-5">'.concat(t.note_name,'<span class="remove-note" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete" data-id="').concat(t.id,'"><a href="javascript:void(0)"><i class="fas fa-trash text-danger"></i></a></span></li>'))}))):$("#noteLists").append('<p class="text-center fw-bold text-muted mt-3">'.concat(noRecordsFound,"</p>"))},complete:function(){$("#noteSubmitBtn").attr("disabled",!1)}})})),$(document).on("click",".remove-note",(function(e){e.preventDefault();var t=$(this).attr("data-id");$(this).closest("li").remove();var s=doctorLogin?route("doctors.visits.delete.note",t):route("delete.note",t);$.ajax({url:s,type:"POST",dataType:"json",success:function(e){e.success&&($("#noteLists li").length<1?(displaySuccessMessage(e.message),$("#noteLists").append('<p class="text-center fw-bold mt-3 text-muted text-gray-600">'.concat(noRecordsFound,"</p>"))):displaySuccessMessage(e.message))}})})),$(document).on("submit","#addPrescription",(function(e){e.preventDefault();var t=$(this).find("#prescriptionSubmitBtn");setAdminBtnLoader(t);var s=doctorLogin?route("doctors.visits.add.prescription"):route("add.prescription");$.ajax({url:s,type:"POST",data:$(this).serialize(),dataType:"json",success:function(e){$("#addPrescription")[0].reset(),$(".visit-prescriptions").empty(),$("#prescriptionId").val(""),$.each(e.data,(function(e,t){var s=[{id:t.id,name:t.prescription_name,frequency:t.frequency,duration:t.duration}],a=prepareTemplateRender("#visitsPrescriptionTblTemplate",s);$(".visit-prescriptions").append(a)})),$("#addVisitPrescription").removeClass("show"),displaySuccessMessage(e.message)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){$("#prescriptionSubmitBtn").attr("disabled",!1)}})})),$(document).on("click",".edit-prescription-btn",(function(){var e=$(this).attr("data-id");$("#addVisitPrescription").hasClass("show")||$("#addVisitPrescription").addClass("show"),function(e){var t=doctorLogin?route("doctors.visits.edit.prescription",e):route("edit.prescription",e);$.ajax({url:t,type:"GET",success:function(e){$("#addPrescription")[0].reset(),$("#prescriptionId").val(e.data.id),$("#prescriptionNameId").val(e.data.prescription_name),$("#frequencyId").val(e.data.frequency),$("#durationId").val(e.data.duration),$("#descriptionId").val(e.data.description)}})}(e)})),$(document).on("click",".delete-prescription-btn",(function(e){e.preventDefault();var t=$(this).attr("data-id");$(this).closest("tr").remove();var s=doctorLogin?route("doctors.visits.delete.prescription",t):route("delete.prescription",t);$.ajax({url:s,type:"POST",dataType:"json",success:function(e){$("#addPrescription")[0].reset(),$("#prescriptionId").val(""),e.data.length<1?($("#addVisitPrescription").removeClass("show"),displaySuccessMessage(e.message),$(".visit-prescriptions").append('<tr><td colspan="4" class="text-center fw-bold  text-muted text-gray-600">No data available in table</td></tr>')):($("#addVisitPrescription").removeClass("show"),displaySuccessMessage(e.message))}})})),$(document).on("click",".reset-form",(function(){$("#addPrescription")[0].reset()}))})();