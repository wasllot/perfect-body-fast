(()=>{"use strict";var e="#countriesTable";$(document).ready((function(){var a=$(e).DataTable({processing:!0,serverSide:!0,searchDelay:500,language:{lengthMenu:"Show _MENU_"},order:[[0,"asc"]],ajax:{url:route("countries.index")},columnDefs:[{targets:[0,1],width:"20%"},{targets:[2],orderable:!1,className:"text-center",width:"8%"}],columns:[{data:"name",name:"name"},{data:function(e){var a;return null!==(a=e.short_code)&&void 0!==a?a:"N/A"},name:"short_code"},{data:function(e){var a=[{id:e.id}];return prepareTemplateRender("#countriesTemplate",a)},name:"id"}]});handleSearchDatatable(a)})),$(document).on("click",".delete-btn",(function(a){var t=$(a.currentTarget).data("id");deleteItem(route("countries.destroy",t),e,"Country")})),$(document).on("click","#addCountry",(function(){$("#addCountryModal").modal("show").appendTo("body")})),$(document).on("submit","#addCountryForm",(function(a){a.preventDefault(),$.ajax({url:route("countries.store"),type:"POST",data:$(this).serialize(),success:function(a){a.success&&(displaySuccessMessage(a.message),$("#addCountryModal").modal("hide"),$(e).DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("click",".edit-btn",(function(e){$("#editCountryModal").modal("show").appendTo("body");var a=$(e.currentTarget).data("id");$("#editCountryId").val(a),$.ajax({url:route("countries.edit",a),type:"GET",success:function(e){e.success&&($("#editCountryName").val(e.data.name),$("#editShortCodeName").val(e.data.short_code))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("submit","#editCountryForm",(function(a){a.preventDefault();var t=$(this).serialize(),r=$("#editCountryId").val();$.ajax({url:route("countries.update",r),type:"POST",data:t,success:function(a){a.success&&(displaySuccessMessage(a.message),$("#editCountryModal").modal("hide"),$(e).DataTable().ajax.reload(null,!1))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$("#addCountryModal").on("hidden.bs.modal",(function(e){$("#addCountryForm")[0].reset()}))})();