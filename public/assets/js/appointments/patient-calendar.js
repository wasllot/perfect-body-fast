(()=>{"use strict";var e,t,n,a,r,o,d,s,i,c=!1,v={id:"",uId:"",eventName:"",eventDescription:"",eventStatus:"",startDate:"",endDate:"",amount:0,service:"",doctorName:""};$(document).ready((function(){m(),l()}));var m=function(){var e=document.getElementById("appointmentCalendar");new FullCalendar.Calendar(e,{navLinks:!0,selectable:!0,selectMirror:!0,editable:!1,dayMaxEvents:!0,displayEventTime:!1,buttonText:{month:"Month"},headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth"},events:function(e,t,n){$.ajax({url:route("patients.appointments.calendar"),type:"GET",data:e,success:function(e){e.success&&t(e.data)},error:function(e){displayErrorMessage(e.responseJSON.message),n()}})},eventMouseEnter:function(e){u({id:e.event.id,title:e.event.title,startStr:e.event.startStr,endStr:e.event.endStr,description:e.event.extendedProps.description,status:e.event.extendedProps.status,amount:e.event.extendedProps.amount,uId:e.event.extendedProps.uId,service:e.event.extendedProps.service,doctorName:e.event.extendedProps.doctorName}),p(e.el)},eventMouseLeave:function(){M()},eventClick:function(e){M(),u({id:e.event.id,title:e.event.title,startStr:e.event.startStr,endStr:e.event.endStr,description:e.event.extendedProps.description,status:e.event.extendedProps.status,amount:e.event.extendedProps.amount,uId:e.event.extendedProps.uId,service:e.event.extendedProps.service,doctorName:e.event.extendedProps.doctorName}),f()}}).render()},l=function(){var e=document.getElementById("patientEventModal");o=new bootstrap.Modal(e),t=e.querySelector('[data-kt-calendar="event_name"]'),e.querySelector('[data-kt-calendar="event_description"]'),n=e.querySelector('[data-kt-calendar="event_status"]'),i=e.querySelector('[data-kt-calendar="event_amount"]'),s=e.querySelector('[data-kt-calendar="event_uId"]'),d=e.querySelector('[data-kt-calendar="event_service"]'),a=e.querySelector('[data-kt-calendar="event_start_date"]'),r=e.querySelector('[data-kt-calendar="event_end_date"]'),e.querySelector("#kt_modal_view_event_edit"),e.querySelector("#kt_modal_view_event_delete")},u=function(e){v.id=e.id,v.eventName=e.title,v.eventDescription=e.description,v.eventStatus=e.status,v.startDate=e.startStr,v.endDate=e.endStr,v.amount=e.amount,v.uId=e.uId,v.service=e.service,v.doctorName=e.doctorName},p=function(t){M();var n=v.allDay?moment(v.startDate).format("Do MMM, YYYY"):moment(v.startDate).format("Do MMM, YYYY - h:mm a"),a=v.allDay?moment(v.endDate).format("Do MMM, YYYY"):moment(v.endDate).format("Do MMM, YYYY - h:mm a"),r={container:"body",trigger:"manual",boundary:"window",placement:"auto",dismiss:!0,html:!0,title:"Appointment Details",content:'<div class="fw-bolder mb-2"><b>Doctor</b>: '+v.doctorName+'</div><div class="fs-7"><span class="fw-bold">Start:</span> '+n+'</div><div class="fs-7 mb-4"><span class="fw-bold">End:</span> '+a+"</div>"};(e=KTApp.initBootstrapPopover(t,r)).show(),c=!0},M=function(){c&&(e.dispose(),c=!1)},f=function(){var e,c;$(".fc-popover").addClass("hide"),o.show(),e=moment(v.startDate).format("Do MMM, YYYY - h:mm a"),c=moment(v.endDate).format("Do MMM, YYYY - h:mm a"),r.innerText=": "+c,a.innerText=": "+e,t.innerText="Doctor: "+v.doctorName,$(n).val(v.eventStatus),i.innerText=addCommas(v.amount),s.innerText=v.uId,d.innerText=v.service}})();