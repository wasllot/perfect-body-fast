(()=>{"use strict";var e="#patientsTable";$(document).ready((function(){var t=$(e).DataTable({processing:!0,serverSide:!0,searchDelay:500,language:{lengthMenu:"Show _MENU_"},order:[[4,"desc"]],ajax:{url:route("patients.index")},columnDefs:[{targets:[5],orderable:!1,searchable:!1,className:"text-center",width:"8%"},{targets:[2],orderable:!1,searchable:!1,className:"text-center"},{targets:[3],orderable:!1,className:"text-center"},{targets:[1],width:"16%",className:"text-center"},{targets:[4],width:"16%"}],columns:[{data:function(e){return'<div class="symbol symbol-circle symbol-50px overflow-hidden me-3">\n                        <div class="symbol-label">\n                            <img src="'.concat(e.profile,'" alt=""\n                                 class="w-100 object-cover">\n                        </div>\n                    </div>\n                    <div class="d-inline-block align-top">\n                        <a href="').concat(route("patients.show",e.id),'"\n                           class="text-primary-800 mb-1 d-inline-block">').concat(e.user.full_name,'</a>\n                        <a class="btn btn-sm btn-light-success fw-bolder ms-2 fs-8 py-1 px-3 cursor-default"\n                            data-bs-toggle="tooltip" data-bs-placement="bottom"\n                            title="Patient Unique ID">').concat(e.patient_unique_id,'</a>\n                        <span class="d-block text-muted fw-bold">').concat(e.user.email,"</span>\n                    </div>")},name:"user.first_name"},{data:function(e){return'<span class="badge badge-light-danger">'.concat(e.appointments_count,"</span>")},name:"appointments_count"},{data:function(e){return'<div class="form-check form-switch form-check-custom form-check-solid justify-content-center">\n                            <input class="form-check-input h-20px w-30px email-verified" data-id="'.concat(e.user.id,'" type="checkbox" value=""\n                               ').concat(e.user.email_verified_at?"checked":""," />\n                            </div>")},name:"user.id"},{data:function(e){return'<td class=" text-center action-table-btn">\n                        <a title="Impersonate '.concat(e.user.full_name,'" class="btn btn-sm btn-primary" href="').concat(route("impersonate",e.user.id),'">\n                            Impersonate\n                        </a>\n                        </td>')},name:"user.id"},{data:function(e){return'<span class="badge badge-light-info">'.concat(moment.parseZone(e.created_at).format("Do MMM, Y h:mm A"),"</span>")},name:"created_at"},{data:function(e){var t=[{id:e.id,editUrl:route("patients.edit",e.id)}];return prepareTemplateRender("#actionsTemplates",t)},name:"id"}]});handleSearchDatatable(t)})),$(document).on("click",".delete-btn",(function(){var t=$(this).attr("data-id");deleteItem(route("patients.destroy",t),e,"Patient")})),$(document).on("change",".email-verified",(function(t){var a=$(t.currentTarget).data("id"),n=$(this).is(":checked")?1:0;$.ajax({type:"POST",url:route("emailVerified"),data:{id:a,value:n},success:function(t){$(e).DataTable().ajax.reload(null,!1),displaySuccessMessage(t.message)}})}))})();